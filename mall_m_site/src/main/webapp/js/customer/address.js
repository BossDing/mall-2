$(function(){$("#infoProvince").change(function(){loadCity($(this).val())});$("#infoCity").change(function(){loadDistrict($(this).val())});$("#infoCounty").change(function(){loadStreet($(this).val())})});function selectLocationOption(pid,cid,did,sid,po,co,dio,so){if(pid==""){return}$("#"+po+" option[value='"+pid+"']").prop("selected","selected");loadCity(pid);$("#"+co+" option[value='"+cid+"']").prop("selected","selected");loadDistrict(cid);$("#"+dio+" option[value='"+did+"']").prop("selected","selected");loadStreet(did);$("#"+so+" option[value='"+sid+"']").prop("selected","selected")}function loadProvice(){var province_map=$(".province_map").val();var basePath=$("#basePath").val();$.ajax({type:"post",url:basePath+"/getAllProvince.htm",async:false,success:function(data){var options="<option  value='0' >-请选择-</option>";for(var i=0;i<data.length;i++){var province=data[i];if(""!=province_map&&province_map==province.provinceId){options+="<option selected='selected' value='"+province.provinceId+"'>"+province.provinceName+"</option>"}else{options+="<option value='"+province.provinceId+"'>"+province.provinceName+"</option>"}}$("select[id^='infoProvince']").html(options)}});loadCity($("#infoProvince").val())}function loadCity(pid){var city_map=$(".city_map").val();var basePath=$("#basePath").val();var paramStr="provinceId="+pid;$.ajax({type:"post",url:basePath+"/getAllCityByPid.htm",data:paramStr,async:false,success:function(data){if(data.length!=0){var options="";for(var i=0;i<data.length;i++){var city=data[i];if(""!=city_map&&city_map==city.cityId){options+="<option selected='selected' value='"+city.cityId+"'>"+city.cityName+"</option>"}else{options+="<option value='"+city.cityId+"'>"+city.cityName+"</option>"}}$("#infoCity").html(options)}else{$("#infoCity").html("<option value='0' >"+"请选择"+"</option>");$("#infoCounty").html("<option value='0' >"+"请选择"+"</option>");$("#infoStreet").html("<option value='0' >"+"请选择"+"</option>")}}});loadDistrict($("#infoCity").val())}function loadDistrict(pid){var district_map=$(".district_map").val();var paramStr="cityId="+pid;var basePath=$("#basePath").val();$.ajax({type:"post",url:basePath+"/getAllDistrictByCid.htm",data:paramStr,async:false,success:function(data){if(data.length!=0){var options="";for(var i=0;i<data.length;i++){var district=data[i];if(""!=district_map&&district_map==district.districtId){options+="<option selected='selected' value='"+district.districtId+"'>"+district.districtName+"</option>"}else{options+="<option value='"+district.districtId+"'>"+district.districtName+"</option>"}}$("#infoCounty").html(options)}else{$("#infoCounty").html("<option value='0' >"+"请选择"+"</option>")}}});loadStreet($("#infoCounty").val())}function loadStreet(cid){var paramStr="dId="+cid;var basePath=$("#basePath").val();$.ajax({type:"post",url:basePath+"/getAllStreetByDid.htm",data:paramStr,async:false,success:function(data){if(data.length!=0){var options="";for(var i=0;i<data.length;i++){var street=data[i];options+="<option value='"+street.streetId+"'>"+street.streetName+"</option>"}$("#infoStreet").html(options)}else{$("#infoStreet").html("<option value='' >"+"请选择"+"</option>")}}})}function searchStoreByAddress(){var infoProvince=$("#infoProvince").val();var infoCity=$("#infoCity").val();var infoCounty=$("#infoCounty").val();$(".search_tip").html("");var bussAddrId=infoProvince+","+infoCity+","+infoCounty+",";$(".bussAddrId").val(bussAddrId);$(".searchStoreByAddress").submit()}function infoProvince_check(){$(".search_tip").html("");var infoProvince=$("#infoProvince").val();var infoCity=$("#infoCity").val();var infoCounty=$("#infoCounty").val();if(infoProvince!=null&&infoCity!=null&&infoCounty!=null){var bussAddrId=infoProvince+","+infoCity+","+infoCounty+",";$(".bussAddrId").val(bussAddrId)}};